const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/main-DQpLtAJc.js","assets/utilities-B1GvWzLx.js"])))=>i.map(i=>d[i]);
import{_}from"./preload-helper-DrSbU_pJ.js";import{S as A,P as B,W as S,A as j,D as $,G as I,B as H,V as q,a as R,C as M}from"./GLTFLoader-geCNiA8N.js";import{s as u}from"./utilities-B1GvWzLx.js";const L=document.getElementById("navbarContainer"),w=new URL("/Luminara/",document.baseURI).href,N=new URL("navbar.html",w).href;fetch(N).then(e=>e.text()).then(e=>{L.innerHTML=e,[...L.querySelectorAll(".nav-link, .mobile-nav-link"),...document.querySelectorAll(".bread-link"),...document.querySelectorAll(".logo-link")].forEach(n=>{n.dataset.path&&(n.href=w+n.dataset.path)}),_(()=>import("./main-DQpLtAJc.js"),__vite__mapDeps([0,1])).then(n=>n.initPage?.())}).catch(e=>console.error(e));const y="/Luminara/";function m(e,a,n){const t=document.createElement(e);return t.textContent=a,n&&(t.className=n),t}function O(e){const a=document.getElementById("hero-background"),n=e.splash_art?.default;a&&n&&u(n)&&(a.src=u(y+n))}function T(e){const a=document.getElementById("hero-profile-box");if(!a)return;a.innerHTML="";const n=document.createElement("div");n.className="space-y-3 text-sm",e.name&&n.appendChild(m("h2",`${e.name} Profile`,"text-xl font-bold mb-2"));for(const[t,i]of Object.entries(e.profile||{})){if(t==="lore")continue;const s=document.createElement("div"),o=m("strong",t.replace(/_/g," ")+": ");if(s.appendChild(o),Array.isArray(i)){const r=m("span",i.join(", "));s.appendChild(r)}else if(typeof i=="object"&&i!==null){const r=document.createElement("ul");r.className="list-disc list-inside ml-4";for(const[l,c]of Object.entries(i)){const h=document.createElement("li");h.appendChild(m("strong",l+": ")),Array.isArray(c)?h.appendChild(m("span",c.join(", "))):h.appendChild(m("span",c)),r.appendChild(h)}s.appendChild(r)}else s.appendChild(m("span",i));n.appendChild(s)}if(e.profile?.lore&&u(e.profile.lore)){const t=document.createElement("a");t.href=u(e.profile.lore),t.target="_blank",t.className="text-primary underline block mt-2",t.textContent="Read Lore",n.appendChild(t)}a.appendChild(n)}function P(e,a){const n=e.skins[a]?.skill_icons||{},t=e.abilities||{},i=document.getElementById("skill-icons"),s=document.getElementById("skill-name"),o=document.getElementById("skill-type"),r=document.getElementById("skill-text");if(!i)return;i.innerHTML="";let l=Object.keys(n)[0];if(l&&(Object.entries(n).forEach(([c,h])=>{const b=t[c];if(!b||!u(h))return;const d=document.createElement("img");d.src=u(y+h),d.alt=b.name,d.className="w-[100px] h-[100px] object-cover cursor-pointer rounded-full transition-transform duration-200 hover:scale-105 border-4",c===l?(d.classList.add("border-background"),d.classList.remove("border-transparent")):(d.classList.add("border-transparent"),d.classList.remove("border-background"));function f(){i.querySelectorAll("img").forEach(p=>{p.classList.remove("border-background"),p.classList.add("border-transparent")}),d.classList.remove("border-transparent"),d.classList.add("border-background"),s&&(s.textContent=b.name),o&&(o.textContent=b.type),r&&(r.textContent=b.description),l=c}d.addEventListener("click",f),i.appendChild(d)}),n[l]&&t[l])){const c=t[l];s&&(s.textContent=c.name),o&&(o.textContent=c.type),r&&(r.textContent=c.description)}}function F(e){const a=document.getElementById("hero-info-box");if(!a)return;a.innerHTML="";const n=document.createElement("div");n.className="space-y-3",e.name&&n.appendChild(m("h2",e.name,"text-xl font-bold mb-2"));for(const[t,i]of Object.entries(e.info||{})){if(t==="ratings")continue;let s;Array.isArray(i)?s=i.join(", "):typeof i=="object"&&i!==null?s=Object.entries(i).map(([o,r])=>`${o}: ${Array.isArray(r)?r.join(", "):r}`).join("; "):s=i,n.appendChild(m("p",`${t.replace(/_/g," ")}: ${s}`,"text-sm"))}if(e.info?.ratings){const t=document.createElement("div");t.appendChild(m("p","Ratings:","font-semibold mb-1")),Object.entries(e.info.ratings).forEach(([i,s])=>{const o=document.createElement("div");o.className="mb-1",o.appendChild(m("span",`${i}:`,"capitalize text-sm"));const r=document.createElement("div");r.className="w-full bg-gray-300 rounded-full h-2 mt-1";const l=Math.min(Math.max(Number(s)||0,0),10),c=document.createElement("div");c.className="bg-primary h-2 rounded-full",c.style.width=`${l/10*100}%`,r.appendChild(c),o.appendChild(r),t.appendChild(o)}),n.appendChild(t)}a.appendChild(n)}function U(e,a){const n=document.querySelector(".hero-3d-link");if(!n)return;const t=e.id,i=e.skins[a].skin_id;n.href=`${y}mlbb_model_viewer.html?id=${encodeURIComponent(t)}&skin_id=${encodeURIComponent(i)}`;const s=n.querySelector(".hero-img"),o=e.skins[a].avatars?.default;s&&u(o)&&(s.src=u(y+o));const r=n.querySelector(".hero-name");r&&(r.textContent=e.name)}function v(e){const a=e.closest("div.relative");if(!a)return;const n=a.querySelector(".model-fallback");n&&n.remove();const t=document.createElement("div");t.className="model-fallback absolute inset-0 flex items-center justify-center text-white text-lg font-semibold",t.textContent="3D model not found",a.appendChild(t)}async function W(e,a,n){if(!u(a)){v(e);return}const t=new A,i=e.clientWidth||window.innerWidth,s=e.clientHeight||window.innerHeight,o=new B(45,i/s,.1,1e3);o.position.set(0,0,4);const r=new S({canvas:e,antialias:!0,alpha:!0});r.setSize(i,s),r.setPixelRatio(window.devicePixelRatio),t.add(new j(16777215,1.5));const l=new $(16777215,3);l.position.set(5,5,5),t.add(l);let c;new I().load(a,f=>{const p=f.scene,x=new H().setFromObject(p).getCenter(new q);if(p.position.sub(x),t.add(p),f.animations.length&&n){const E=f.animations.find(k=>k.name===n);E&&(c=new R(p),c.clipAction(E).play())}const C=e.closest("div.relative")?.querySelector(".model-fallback");C&&C.remove()},void 0,f=>{console.warn("Model not found:",f),v(e)});const b=new M;function d(){requestAnimationFrame(d),c&&c.update(b.getDelta()),r.render(t,o)}d(),window.addEventListener("resize",()=>{const f=e.clientWidth||window.innerWidth,p=e.clientHeight||window.innerHeight;o.aspect=f/p,o.updateProjectionMatrix(),r.setSize(f,p)})}function V(e,a,n){const t="/Luminara/";fetch(`${t}data/heroes_index.json`).then(i=>i.json()).then(i=>{const s=i.heroes.find(o=>o.name===e);if(!s)throw new Error(`Hero "${e}" not found in index`);return fetch(`${t}data/heroes/${s.details_file}`).then(o=>o.json())}).then(i=>{const s=i.skins[a];if(!s)throw new Error(`Skin "${a}" not found`);O(s),T(i),P(i,a),F(i),U(i,a);const o=document.querySelector("canvas.show-model");o&&(s.models?.entrance&&u(s.models.entrance)?W(o,`${t}${s.models.entrance}`,n):v(o))}).catch(i=>console.error("Error loading hero:",i))}function z(){const e=document.querySelectorAll(".curved-btn"),a=document.querySelectorAll(".content-box"),n=document.querySelectorAll(".mobile-btn"),t=[{top:"75%",right:"5%"},{top:"85%",right:"10%"},{top:"90%",right:"20%"}];function i(s){const o=e[s];if(!o)return;const r=Array.from(e).filter((l,c)=>c!==s);o.style.top=t[1].top,o.style.right=t[1].right,o.classList.add("active","scale-110","opacity-100"),r[0]&&(r[0].style.top=t[0].top,r[0].style.right=t[0].right,r[0].classList.remove("active","scale-110"),r[0].classList.add("opacity-50")),r[1]&&(r[1].style.top=t[2].top,r[1].style.right=t[2].right,r[1].classList.remove("active","scale-110"),r[1].classList.add("opacity-50")),a.forEach(l=>{l.dataset.id===o.dataset.id?l.classList.remove("hidden"):l.classList.add("hidden")})}e.length===3&&(i(1),e.forEach((s,o)=>s.addEventListener("click",()=>i(o)))),n.forEach(s=>{s.addEventListener("click",()=>{a.forEach(o=>{o.dataset.id===s.dataset.id?o.classList.remove("hidden"):o.classList.add("hidden")})})})}const g={name:"miya",skin:"moonlight_archer",animation:"miya_moonlight_archer_entrance_city_idle"};document.addEventListener("DOMContentLoaded",()=>{V(g.name,g.skin,g.animation),z()});
